# Blog Worker Configuration
path: "/blog"
type: php
enabled: true

# PHP Configuration
php:
  # Path to php-cgi binary (auto-detected if not specified)
  # binary: /usr/bin/php-cgi

  # Optional base configuration from php.ini file
  # config_file: /etc/php/8.2/php.ini

  # Individual PHP settings (override config_file settings)
  settings:
    max_execution_time: "30"
    memory_limit: "128M"
    display_errors: "1"
    error_reporting: "E_ALL"
    upload_max_filesize: "10M"
    post_max_size: "10M"

  # Process pool configuration
  pool:
    # dynamic: scale workers based on load (MOST POPULAR - like PHP-FPM default)
    manager: dynamic

    # Minimum idle workers to keep running
    min_workers: 2

    # Maximum workers under load
    max_workers: 10

    # Number of workers to start initially
    start_workers: 3

    # Maximum requests per worker before restart (0 = unlimited)
    max_requests: 1000

    # Request timeout in seconds
    request_timeout: 30

    # Process idle timeout (not used in dynamic mode)
    idle_timeout: 10

    # TCP listen address for FastCGI server
    listen_address: "127.0.0.1"

# Document root
document_root: ./public

# Logging
logging:
  level: info
  access_log: true
  slow_log:
    enabled: true
    threshold: 1s # Log requests taking longer than 1 second
