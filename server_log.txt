Building server...
Building for development...
Building server...
✓ Built server

Building workers...
Skipping api (no main.go)
Skipping blog (no main.go)
✓ index up to date

✅ Development build complete
Server built to: server/bin/tqserver
Workers built to: workers/*/bin/
Starting server...
2026/01/08 18:42:50 TQServer starting...
2026/01/08 18:42:50 Mode: dev
2026/01/08 18:42:50 Project root: /home/maurits/projects/tqserver
2026/01/08 18:42:50 Config file: /home/maurits/projects/tqserver/config/server.yaml
2026/01/08 18:42:50 Workers directory: workers
2026/01/08 18:42:50 Listening on port: 8080
2026/01/08 18:42:50 Worker port range: 9000-9999
2026/01/08 18:42:50 Loaded worker 'api' at path '/api'
2026/01/08 18:42:50 Loaded worker 'blog' at path '/blog'
2026/01/08 18:42:50 Loaded worker 'index' at path '/'
2026/01/08 18:42:50 Loaded 3 worker(s)
2026/01/08 18:42:50 Loading routes from worker configs...
2026/01/08 18:42:50 Route configured: /api -> api
2026/01/08 18:42:50 Route configured: /blog -> blog
2026/01/08 18:42:50 Route configured: / -> index
2026/01/08 18:42:50 Worker api is disabled, skipping
2026/01/08 18:42:50 Registered worker: /blog -> blog
2026/01/08 18:42:50 Starting PHP worker pool for blog (dynamic manager)
2026/01/08 18:42:50 [phpfpm] generating configs in /tmp/tqserver-phpfpm/blog
2026/01/08 18:42:50 [phpfpm] writing main config to /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:42:50 [phpfpm] started (pid=724652) using /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:42:50 ✅ php-fpm started for blog on 127.0.0.1:9002 (pm=dynamic children=10)
2026/01/08 18:42:50 Registered worker: / -> index
2026/01/08 18:42:50 Building Go worker: index -> /home/maurits/projects/tqserver/workers/index/bin/tqworker_index_1767894170
2026/01/08 18:42:50 ✅ Built: /home/maurits/projects/tqserver/workers/index/bin/tqworker_index_1767894170
2026/01/08 18:42:50 Starting worker for / on port 9003
2026/01/08 18:42:50 ✅ Worker started for / on port 9003 (PID: 724854)
2026/01/08 18:42:50 Worker starting on port 9003 for route /
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/api
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/api/config
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/api/src
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/api/src/main
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/api/src/main/kotlin
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/blog
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/blog/config
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/blog/public
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/index
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/index/config
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/index/public
2026/01/08 18:42:50 Watching: /home/maurits/projects/tqserver/workers/index/src
2026/01/08 18:42:50 ✅ TQServer ready on http://localhost:8080
2026/01/08 18:42:50 Live reload WebSocket enabled at ws://localhost:8080/ws/reload
2026/01/08 18:42:50 Proxy listening on http://localhost:8080
2026/01/08 18:43:12 PHP file changed: /home/maurits/projects/tqserver/workers/blog/public/index.php
2026/01/08 18:43:12 PHP content changed for /blog, broadcasting reload
2026/01/08 18:43:12 PHP file changed: /home/maurits/projects/tqserver/workers/blog/public/index.php
2026/01/08 18:43:12 PHP content changed for /blog, broadcasting reload
2026/01/08 18:46:42 Config file changed: /home/maurits/projects/tqserver/workers/blog/config/worker.yaml
2026/01/08 18:46:42 Config changed for worker /blog, restarting...
2026/01/08 18:46:42 Reloaded config for worker blog
2026/01/08 18:46:42 Restarting PHP worker blog
2026/01/08 18:46:42 Starting PHP worker pool for blog (dynamic manager)
2026/01/08 18:46:42 [phpfpm] generating configs in /tmp/tqserver-phpfpm/blog
2026/01/08 18:46:42 [phpfpm] writing main config to /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:46:42 [phpfpm] started (pid=727096) using /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:46:42 ✅ php-fpm started for blog on 127.0.0.1:9004 (pm=dynamic children=10)
2026/01/08 18:46:42 [phpfpm] exited
2026/01/08 18:46:42 [phpfpm] removed generated config dir /tmp/tqserver-phpfpm/blog
2026/01/08 18:46:42 ✅ Worker restarted with new config for /blog
2026/01/08 18:46:45 Config file changed: /home/maurits/projects/tqserver/workers/blog/config/worker.yaml
2026/01/08 18:46:45 Config changed for worker /blog, restarting...
2026/01/08 18:46:45 Reloaded config for worker blog
2026/01/08 18:46:45 Restarting PHP worker blog
2026/01/08 18:46:45 Starting PHP worker pool for blog (dynamic manager)
2026/01/08 18:46:45 [phpfpm] generating configs in /tmp/tqserver-phpfpm/blog
2026/01/08 18:46:45 [phpfpm] writing main config to /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:46:45 [phpfpm] started (pid=727143) using /tmp/tqserver-phpfpm/blog/php-fpm.conf
2026/01/08 18:46:45 ✅ php-fpm started for blog on 127.0.0.1:9005 (pm=dynamic children=10)
2026/01/08 18:46:45 [phpfpm] exited
2026/01/08 18:46:45 [phpfpm] removed generated config dir /tmp/tqserver-phpfpm/blog
2026/01/08 18:46:45 ✅ Worker restarted with new config for /blog
2026/01/08 18:47:07 Shutting down...
2026/01/08 18:47:07 Stopping worker for / (PID: 724854)
2026/01/08 18:47:07 Stopping php-fpm launcher for blog
2026/01/08 18:47:07 Worker for / (PID: 724854) exited: signal: terminated
2026/01/08 18:47:07 [phpfpm] exited
2026/01/08 18:47:07 [phpfpm] removed generated config dir /tmp/tqserver-phpfpm/blog
2026/01/08 18:47:07 Closing php-fpm client for blog
2026/01/08 18:47:07 Failed to start proxy: http: Server closed
